# 任务池

> 说明：使用复选框跟踪任务进度，完成一项即打勾。

## 本轮待办

- [x] Vite 构建增加手工分包（vendor/ui/markdown/tauri 分组）
- [x] 构建产物体积验证并记录（打包前后主 chunk 对比）
- [x] 补充 Updater 公钥配置状态说明与阻塞项说明
- [x] 翻译引擎页支持多选与全选
- [x] 翻译引擎页支持批量启用/暂停/删除
- [x] 补充 e2e 覆盖引擎批量操作
- [x] 翻译引擎页增加列表筛选（关键字/提供方/状态）
- [x] 翻译引擎保存增加接口地址格式校验（仅允许 http/https URL）
- [x] 补充 e2e 覆盖引擎筛选与地址格式校验
- [x] 历史记录页增加检索框（标题/原文/译文/引擎名）
- [x] 历史记录页增加筛选项（源语言、目标语言、引擎）
- [x] 历史记录分页与筛选联动（筛选后重置到第 1 页并显示过滤总数）
- [x] 翻译引擎保存前增加必填校验与错误提示（名称/接口地址/模型）
- [x] 补充 e2e 覆盖历史检索筛选与引擎保存校验
- [x] 修复右侧定位逻辑：由“按行”改为“按 Markdown block”映射左侧
- [x] 左侧行号高亮改为“整块范围高亮”，并滚动到块起始行附近
- [x] 补充 block 映射单元测试与 e2e 回归验证
- [x] 滚动评审长期 Backlog，标记废弃项与具备基础项
- [x] 源文本自动识别语言并自动切换源语言下拉
- [x] 右侧 Markdown 行点击后左侧对应行号高亮并尽量滚动对齐
- [x] 历史记录列表中“模型/引擎”字段去重与展示语义优化
- [x] 解释并整理未勾选任务状态，区分长期 backlog 与本轮任务
- [x] 补充单元测试与 e2e，覆盖自动识别与行高亮联动
- [x] 左右面板增加统一行号显示（可近似对齐）
- [x] 翻译页与历史详情页增加左右滚动联动（按段落/比例近似同步）
- [x] 修复联动实现中的 lint 问题并稳定 e2e 用例
- [x] 仅编辑区域允许垂直滚动，页面本身不出现垂直滚动条
- [x] 将翻译状态与最近记录统一到多列状态栏
- [x] 增加程序执行日志区域并展示关键流程日志
- [x] 历史记录页改为表格展示
- [x] 提供基于 fixtures 的历史 seed 注入命令用于分页验证
- [x] 补充 e2e 覆盖状态栏、日志、表格与 seed 分页场景

## 已完成

- [x] 初始化 `Tauri + React + TypeScript` 工程
- [x] 接入 Ollama `translategemma` 翻译能力
- [x] 按官方 prompt format 组装请求前缀
- [x] 支持 HTML 输入并预处理为 Markdown
- [x] 结果区支持 Markdown/HTML 双视图
- [x] 实现历史记录存储与标题编辑
- [x] 实现历史记录分页与多页码跳转
- [x] 历史详情只读回看且不重复创建记录
- [x] 首次启动向导：检测 Ollama 服务与模型
- [x] 原生菜单：关于 / 检查更新
- [x] 单元测试（Vitest）
- [x] 端到端测试（Playwright）
- [x] 文档中文化（README/PRD/进展）
- [x] 使用 Makefile 统一脚本命令入口
- [x] 提供一键初始化并启动（Web/桌面）
- [x] 基于章节分段的翻译测试覆盖历史分页场景
- [x] 定制应用图标并修复粘贴链路（Cmd+V/纯文本/防抖翻译）

## 长期 Backlog（滚动评审）

- [x] 替换 GitHub Release `latest.json` 真实地址（已废弃：当前已切换 `releases/latest`）
- [x] 增加多模型管理 UI（新增/编辑/启停）
- [ ] 配置 Tauri Updater 公钥
- [x] 增加历史检索与筛选
- [x] 优化前端分包，降低主包体积
- [x] 翻译引擎管理增强（已完成：批量操作、列表筛选、字段格式校验）
说明：
- 分包结果：主包 `index` 从约 `1070.38 kB` 降至约 `182.19 kB`，其余拆分到 `vendor/editor/markdown/tauri`。
- `Updater 公钥` 仍待配置：当前 `src-tauri/tauri.conf.json` 仍是占位值 `REPLACE_WITH_TAURI_UPDATER_PUBLIC_KEY`，需先生成并提供签名公钥（对应私钥应通过 CI 密钥注入，不应入库）。
