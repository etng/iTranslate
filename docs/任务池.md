# 任务池

> 说明：使用复选框跟踪任务进度，完成一项即打勾。

## 本轮待办

- [ ] （暂无，等待新任务）

## 已完成

- [x] 修复 HTML 预览模式下双栏高度异常，避免遮挡底部区域
- [x] 底部状态/日志改为图标 Tab + 折叠面板，默认折叠
- [x] 历史记录“总计信息”并入分页区域，压缩头部高度
- [x] 历史记录增加多选并支持 EPUB 导出向导（章节排序可调，默认标题升序）
- [x] 修复 EPUB 在 iBooks 的实体兼容问题（`&nbsp;`）
- [x] EPUB 导出前弹出保存位置选择，并支持“设为默认导出目录”
- [x] 新增用户偏好页（默认 EPUB 作者、默认导出目录）
- [x] EPUB 导出优先使用用户偏好（默认作者/默认目录）
- [x] 底部状态与日志按钮改为图标 hover 文案，日志保留表格无标题
- [x] 清理任务池结构：完成项统一归档到“已完成”
- [x] 历史/引擎表格操作按钮图标化并提供 hover 文案
- [x] 偏好页“选择目录/清空默认目录”按钮图标化并提供 hover 文案
- [x] EPUB 导出成功后增加 toast 成功提示
- [x] 翻译页采用“顶部固定 + 底部固定 + 中间自适应”布局，修复 Markdown/HTML 切换高度漂移
- [x] 底部 dock 增加可拖拽分隔线并支持调节展开高度
- [x] 翻译链路日志增强（发起/结束/耗时/失败细节），便于定位卡住问题
- [x] 初始化 `Tauri + React + TypeScript` 工程
- [x] 接入 Ollama `translategemma` 翻译能力
- [x] 按官方 prompt format 组装请求前缀
- [x] 支持 HTML 输入并预处理为 Markdown
- [x] 结果区支持 Markdown/HTML 双视图
- [x] 实现历史记录存储与标题编辑
- [x] 实现历史记录分页与多页码跳转
- [x] 历史详情只读回看且不重复创建记录
- [x] 首次启动向导：检测 Ollama 服务与模型
- [x] 原生菜单：关于 / 检查更新
- [x] 单元测试（Vitest）
- [x] 端到端测试（Playwright）
- [x] 文档中文化（README/PRD/进展）
- [x] 使用 Makefile 统一脚本命令入口
- [x] 提供一键初始化并启动（Web/桌面）
- [x] 基于章节分段的翻译测试覆盖历史分页场景
- [x] 定制应用图标并修复粘贴链路（Cmd+V/纯文本/防抖翻译）

## 长期 Backlog（滚动评审）

- [x] 替换 GitHub Release `latest.json` 真实地址（已废弃：当前已切换 `releases/latest`）
- [x] 增加多模型管理 UI（新增/编辑/启停）
- [x] 配置 Tauri Updater 公钥
- [x] 增加历史检索与筛选
- [x] 优化前端分包，降低主包体积
- [x] 翻译引擎管理增强（已完成：批量操作、列表筛选、字段格式校验）
说明：
- 分包结果：主包 `index` 从约 `1070.38 kB` 降至约 `182.19 kB`，其余拆分到 `vendor/editor/markdown/tauri`。
- `Updater` 已配置：`src-tauri/tauri.conf.json` 已写入 `pubkey` 与 `latest.json` 地址；私钥文件仅本地保存并已通过 `.gitignore` 排除，应在 CI 中注入 `TAURI_SIGNING_PRIVATE_KEY*` 环境变量。
