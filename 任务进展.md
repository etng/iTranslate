# 任务进展

## 已完成

1. 项目初始化
- 创建 `Vite React TS` 工程并接入 `Tauri v2`。
- 配置 `tauri:dev` / `tauri:build` 脚本。

2. 翻译能力
- 实现前端 `translateWithModel` 服务。
- 实现 Rust 命令 `translate_text`，调用 Ollama `/api/generate`。
- 按 translategemma 官方格式拼接 prompt 前缀并附加格式保真规则。

3. 初始化向导
- 实现 `SetupWizard`。
- 实现 Rust 命令 `check_ollama_health`，调用 `/api/tags`。

4. 页面与交互
- 主翻译页（语言选择、输入、翻译按钮、状态提示）。
- 输入 HTML 自动转 Markdown。
- 结果 Markdown/HTML 双视图。
- 历史列表 + 标题编辑 + 分页。
- 历史详情只读与返回列表状态保留。

5. 菜单与更新
- Tauri 原生菜单：关于、检查更新。
- 前端监听菜单事件。
- 更新：读取 `latest.json` 做四段版本比较，确认后走 Tauri Updater。

6. 测试与质量
- 单元测试：输入预处理、prompt 格式。
- e2e：初始化向导 + 翻译主路径 + 历史入口。
- 已通过：`npm run lint`、`npm run test`、`npm run test:e2e`、`cargo check`。

## 待办

1. 真实发布前配置
- 替换 `UPDATE_METADATA_URL` 与 `tauri.conf.json` 中 updater 相关占位值。
- 生成并配置 updater 公钥。

2. 后续增强
- 多模型管理 UI（增删改模型配置）。
- 历史检索与筛选。
- 翻译任务中断与并发队列管理。
